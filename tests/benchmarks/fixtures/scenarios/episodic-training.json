{
  "name": "episodic-training",
  "description": "Training data scenarios for SHGAT with varied patterns and meta-capabilities",
  "nodes": {
    "tools": [
      { "id": "api__fetch_user", "pageRank": 0.08, "community": 0 },
      { "id": "api__fetch_orders", "pageRank": 0.07, "community": 0 },
      { "id": "api__fetch_products", "pageRank": 0.06, "community": 0 },
      { "id": "db__get_user", "pageRank": 0.07, "community": 1 },
      { "id": "db__get_cart", "pageRank": 0.06, "community": 1 },
      { "id": "db__save_order", "pageRank": 0.08, "community": 1 },
      { "id": "db__update_inventory", "pageRank": 0.05, "community": 1 },
      { "id": "payment__validate", "pageRank": 0.09, "community": 2 },
      { "id": "payment__charge", "pageRank": 0.08, "community": 2 },
      { "id": "payment__refund", "pageRank": 0.04, "community": 2 },
      { "id": "email__order_confirm", "pageRank": 0.05, "community": 3 },
      { "id": "email__shipping_notify", "pageRank": 0.04, "community": 3 },
      { "id": "inventory__check", "pageRank": 0.06, "community": 4 },
      { "id": "inventory__reserve", "pageRank": 0.05, "community": 4 },
      { "id": "inventory__release", "pageRank": 0.03, "community": 4 }
    ],
    "capabilities": [
      {
        "id": "cap__checkout_flow",
        "description": "Complete purchase and checkout flow for customer orders. Process payment, validate inventory, charge credit card, save order to database, and send confirmation email. Use for e-commerce transactions, completing purchases, finalizing orders, or payment processing. Keywords: checkout, purchase, buy, order, payment, transaction, complete order, finalize purchase.",
        "toolsUsed": [
          "db__get_cart",
          "inventory__check",
          "payment__validate",
          "payment__charge",
          "db__save_order",
          "email__order_confirm"
        ],
        "successRate": 0.94,
        "parents": ["meta__transactions"],
        "staticEdges": [
          { "from": "db__get_cart", "to": "inventory__check", "type": "provides" },
          { "from": "inventory__check", "to": "payment__validate", "type": "provides" },
          { "from": "payment__validate", "to": "payment__charge", "type": "provides" },
          { "from": "payment__charge", "to": "db__save_order", "type": "provides" },
          { "from": "db__save_order", "to": "email__order_confirm", "type": "provides" }
        ]
      },
      {
        "id": "cap__order_cancellation",
        "description": "Cancel existing order and process refund. Retrieve order from cart, issue payment refund, release reserved inventory, and notify customer. Use for order cancellations, refund requests, or reversing transactions. Keywords: cancel order, refund, cancellation, reverse transaction, return money, void order.",
        "toolsUsed": [
          "db__get_cart",
          "payment__refund",
          "inventory__release",
          "email__order_confirm"
        ],
        "successRate": 0.92,
        "parents": ["meta__transactions"],
        "staticEdges": [
          { "from": "db__get_cart", "to": "payment__refund", "type": "provides" },
          { "from": "payment__refund", "to": "inventory__release", "type": "provides" },
          { "from": "inventory__release", "to": "email__order_confirm", "type": "provides" }
        ]
      },
      {
        "id": "cap__user_profile",
        "description": "View and manage user profile information. Fetch user data, retrieve account details, and display order history. Use for account management, profile viewing, user settings, or order history lookup. Keywords: user profile, account, settings, user info, my account, view profile, order history.",
        "toolsUsed": ["api__fetch_user", "db__get_user", "api__fetch_orders"],
        "successRate": 0.98,
        "parents": ["meta__browsing"]
      },
      {
        "id": "cap__product_browse",
        "description": "Browse and search product catalog. Fetch available products, check inventory levels, and display product information. Use for product discovery, catalog browsing, inventory lookup, or product search. Keywords: browse products, catalog, search items, product list, shop, view products, inventory check.",
        "toolsUsed": ["api__fetch_products", "inventory__check"],
        "successRate": 0.99,
        "parents": ["meta__browsing"]
      }
    ],
    "metaCapabilities": [
      {
        "id": "meta__transactions",
        "description": "Financial transaction operations (checkout, refunds)",
        "contains": ["cap__checkout_flow", "cap__order_cancellation"],
        "parents": ["meta__ecommerce"],
        "successRate": 0.88,
        "toolsAggregated": [
          "db__get_cart",
          "inventory__check",
          "payment__validate",
          "payment__charge",
          "payment__refund",
          "db__save_order",
          "inventory__release",
          "email__order_confirm"
        ]
      },
      {
        "id": "meta__browsing",
        "description": "Read-only browsing operations (products, profile)",
        "contains": ["cap__user_profile", "cap__product_browse"],
        "parents": ["meta__ecommerce"],
        "successRate": 0.98,
        "toolsAggregated": [
          "api__fetch_user",
          "db__get_user",
          "api__fetch_orders",
          "api__fetch_products",
          "inventory__check"
        ]
      },
      {
        "id": "meta__ecommerce",
        "description": "Complete e-commerce operations (root meta-capability)",
        "contains": ["meta__transactions", "meta__browsing"],
        "parents": [],
        "successRate": 0.93,
        "toolsAggregated": [
          "api__fetch_user",
          "api__fetch_orders",
          "api__fetch_products",
          "db__get_user",
          "db__get_cart",
          "db__save_order",
          "db__update_inventory",
          "payment__validate",
          "payment__charge",
          "payment__refund",
          "email__order_confirm",
          "inventory__check",
          "inventory__reserve",
          "inventory__release"
        ]
      }
    ]
  },
  "edges": [
    {
      "source": "db__get_cart",
      "target": "inventory__check",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.95,
      "count": 500
    },
    {
      "source": "inventory__check",
      "target": "payment__validate",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.90,
      "count": 450
    },
    {
      "source": "payment__validate",
      "target": "payment__charge",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.85,
      "count": 400
    },
    {
      "source": "payment__charge",
      "target": "db__save_order",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.98,
      "count": 390
    },
    {
      "source": "db__save_order",
      "target": "email__order_confirm",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.99,
      "count": 385
    },
    {
      "source": "db__save_order",
      "target": "db__update_inventory",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.95,
      "count": 380
    },
    {
      "source": "api__fetch_user",
      "target": "db__get_user",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.70,
      "count": 200
    },
    {
      "source": "payment__charge",
      "target": "payment__refund",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.15,
      "count": 30
    },

    {
      "source": "meta__ecommerce",
      "target": "meta__transactions",
      "type": "contains",
      "source_type": "static",
      "weight": 1.0,
      "count": null
    },
    {
      "source": "meta__ecommerce",
      "target": "meta__browsing",
      "type": "contains",
      "source_type": "static",
      "weight": 1.0,
      "count": null
    },
    {
      "source": "meta__transactions",
      "target": "cap__checkout_flow",
      "type": "contains",
      "source_type": "static",
      "weight": 1.0,
      "count": null
    },
    {
      "source": "meta__transactions",
      "target": "cap__order_cancellation",
      "type": "contains",
      "source_type": "static",
      "weight": 1.0,
      "count": null
    },
    {
      "source": "meta__browsing",
      "target": "cap__user_profile",
      "type": "contains",
      "source_type": "static",
      "weight": 1.0,
      "count": null
    },
    {
      "source": "meta__browsing",
      "target": "cap__product_browse",
      "type": "contains",
      "source_type": "static",
      "weight": 1.0,
      "count": null
    },

    {
      "source": "payment__charge",
      "target": "payment__validate",
      "type": "depends_on",
      "source_type": "static",
      "weight": 1.0,
      "count": null,
      "note": "Charge requires prior validation"
    },
    {
      "source": "inventory__reserve",
      "target": "inventory__check",
      "type": "depends_on",
      "source_type": "static",
      "weight": 1.0,
      "count": null,
      "note": "Reserve requires check"
    },
    {
      "source": "email__shipping_notify",
      "target": "db__save_order",
      "type": "depends_on",
      "source_type": "inferred",
      "weight": 0.85,
      "count": 120,
      "note": "Notify requires saved order"
    }
  ],
  "episodicEvents": [
    {
      "id": "ep_001",
      "intent": "complete purchase for customer",
      "contextTools": ["db__get_cart"],
      "selectedCapability": "cap__checkout_flow",
      "selectedMeta": "meta__transactions",
      "outcome": "success",
      "duration_ms": 2500
    },
    {
      "id": "ep_002",
      "intent": "complete purchase for customer",
      "contextTools": ["db__get_cart", "inventory__check"],
      "selectedCapability": "cap__checkout_flow",
      "selectedMeta": "meta__transactions",
      "outcome": "success",
      "duration_ms": 2100
    },
    {
      "id": "ep_003",
      "intent": "process checkout",
      "contextTools": ["db__get_cart"],
      "selectedCapability": "cap__checkout_flow",
      "selectedMeta": "meta__transactions",
      "outcome": "failure",
      "failureReason": "payment_declined",
      "duration_ms": 1800
    },
    {
      "id": "ep_004",
      "intent": "cancel order and refund",
      "contextTools": ["db__get_cart", "payment__charge"],
      "selectedCapability": "cap__order_cancellation",
      "selectedMeta": "meta__transactions",
      "outcome": "success",
      "duration_ms": 1500
    },
    {
      "id": "ep_005",
      "intent": "show user profile and orders",
      "contextTools": ["api__fetch_user"],
      "selectedCapability": "cap__user_profile",
      "selectedMeta": "meta__browsing",
      "outcome": "success",
      "duration_ms": 800
    },
    {
      "id": "ep_006",
      "intent": "browse available products",
      "contextTools": [],
      "selectedCapability": "cap__product_browse",
      "selectedMeta": "meta__browsing",
      "outcome": "success",
      "duration_ms": 500
    },
    {
      "id": "ep_007",
      "intent": "checkout with payment",
      "contextTools": ["inventory__check", "payment__validate"],
      "selectedCapability": "cap__checkout_flow",
      "selectedMeta": "meta__transactions",
      "outcome": "success",
      "duration_ms": 1900
    },
    {
      "id": "ep_008",
      "intent": "finalize order",
      "contextTools": ["payment__charge"],
      "selectedCapability": "cap__checkout_flow",
      "selectedMeta": "meta__transactions",
      "outcome": "success",
      "duration_ms": 1200
    },
    {
      "id": "ep_009",
      "intent": "refund customer order",
      "contextTools": ["db__save_order"],
      "selectedCapability": "cap__order_cancellation",
      "selectedMeta": "meta__transactions",
      "outcome": "failure",
      "failureReason": "order_already_shipped",
      "duration_ms": 300
    },
    {
      "id": "ep_010",
      "intent": "check product availability",
      "contextTools": ["api__fetch_products"],
      "selectedCapability": "cap__product_browse",
      "selectedMeta": "meta__browsing",
      "outcome": "success",
      "duration_ms": 400
    },
    {
      "id": "ep_011",
      "intent": "do something with my account",
      "contextTools": [],
      "selectedCapability": "cap__user_profile",
      "selectedMeta": "meta__browsing",
      "outcome": "success",
      "duration_ms": 600
    },
    {
      "id": "ep_012",
      "intent": "handle financial transaction",
      "contextTools": ["payment__validate"],
      "selectedCapability": "cap__checkout_flow",
      "selectedMeta": "meta__transactions",
      "outcome": "success",
      "duration_ms": 2000
    }
  ],
  "trainingMetrics": {
    "totalEvents": 12,
    "successRate": 0.83,
    "capabilityDistribution": {
      "cap__checkout_flow": 6,
      "cap__order_cancellation": 2,
      "cap__user_profile": 2,
      "cap__product_browse": 2
    },
    "metaDistribution": {
      "meta__transactions": 8,
      "meta__browsing": 4
    },
    "avgContextSize": 1.25
  }
}
