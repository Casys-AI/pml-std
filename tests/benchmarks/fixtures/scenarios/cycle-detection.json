{
  "name": "cycle-detection",
  "description": "Scenarios with cycles for DAG validation and cycle detection testing",
  "nodes": {
    "tools": [
      { "id": "cycle__a", "pageRank": 0.15, "community": 0, "note": "Part of direct cycle" },
      { "id": "cycle__b", "pageRank": 0.15, "community": 0, "note": "Part of direct cycle" },
      { "id": "cycle__c", "pageRank": 0.15, "community": 0, "note": "Part of direct cycle" },
      { "id": "indirect__x", "pageRank": 0.10, "community": 1, "note": "Part of indirect cycle" },
      { "id": "indirect__y", "pageRank": 0.10, "community": 1 },
      { "id": "indirect__z", "pageRank": 0.10, "community": 1 },
      { "id": "indirect__w", "pageRank": 0.10, "community": 1, "note": "Closes indirect cycle" },
      { "id": "acyclic__start", "pageRank": 0.05, "community": 2, "note": "Valid DAG section" },
      { "id": "acyclic__mid", "pageRank": 0.05, "community": 2 },
      { "id": "acyclic__end", "pageRank": 0.05, "community": 2 }
    ],
    "capabilities": [
      {
        "id": "cap__cyclic_direct",
        "toolsUsed": ["cycle__a", "cycle__b", "cycle__c"],
        "successRate": 0.50,
        "note": "Capability with direct cycle - should fail DAG validation"
      },
      {
        "id": "cap__cyclic_indirect",
        "toolsUsed": ["indirect__x", "indirect__y", "indirect__z", "indirect__w"],
        "successRate": 0.60,
        "note": "Capability with indirect cycle through dependencies"
      },
      {
        "id": "cap__acyclic",
        "toolsUsed": ["acyclic__start", "acyclic__mid", "acyclic__end"],
        "successRate": 0.95,
        "staticEdges": [
          { "from": "acyclic__start", "to": "acyclic__mid", "type": "provides" },
          { "from": "acyclic__mid", "to": "acyclic__end", "type": "provides" }
        ],
        "note": "Valid acyclic capability"
      }
    ],
    "metaCapabilities": []
  },
  "edges": [
    {
      "source": "cycle__a",
      "target": "cycle__b",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.90,
      "count": 100
    },
    {
      "source": "cycle__b",
      "target": "cycle__c",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.85,
      "count": 95
    },
    {
      "source": "cycle__c",
      "target": "cycle__a",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.80,
      "count": 90,
      "note": "Creates direct cycle A→B→C→A"
    },

    {
      "source": "indirect__x",
      "target": "indirect__y",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.88,
      "count": 80
    },
    {
      "source": "indirect__y",
      "target": "indirect__z",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.82,
      "count": 75
    },
    {
      "source": "indirect__z",
      "target": "indirect__w",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.78,
      "count": 70
    },
    {
      "source": "indirect__w",
      "target": "indirect__x",
      "type": "depends_on",
      "source_type": "inferred",
      "weight": 0.60,
      "count": 40,
      "note": "Creates indirect cycle X→Y→Z→W→X"
    },

    {
      "source": "acyclic__start",
      "target": "acyclic__mid",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.95,
      "count": 150
    },
    {
      "source": "acyclic__mid",
      "target": "acyclic__end",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.92,
      "count": 145
    }
  ],
  "testCases": {
    "direct_cycle": {
      "nodes": ["cycle__a", "cycle__b", "cycle__c"],
      "shouldBeDAG": false,
      "cycleNodes": ["cycle__a", "cycle__b", "cycle__c"],
      "note": "Algorithm should detect A→B→C→A cycle"
    },
    "indirect_cycle": {
      "nodes": ["indirect__x", "indirect__y", "indirect__z", "indirect__w"],
      "shouldBeDAG": false,
      "cycleLength": 4,
      "note": "Algorithm should detect longer cycle through depends_on edge"
    },
    "acyclic_section": {
      "nodes": ["acyclic__start", "acyclic__mid", "acyclic__end"],
      "shouldBeDAG": true,
      "topologicalOrder": ["acyclic__start", "acyclic__mid", "acyclic__end"],
      "note": "Valid DAG - pathfinding should work"
    },
    "mixed_graph": {
      "note": "Full graph contains cycles - must isolate acyclic components for DAG operations"
    }
  }
}
