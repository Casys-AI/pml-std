{
  "name": "weight-distributions",
  "description": "Different edge weight distributions for algorithm sensitivity testing",
  "nodes": {
    "tools": [
      { "id": "uniform__a", "pageRank": 0.10, "community": 0 },
      { "id": "uniform__b", "pageRank": 0.10, "community": 0 },
      { "id": "uniform__c", "pageRank": 0.10, "community": 0 },
      { "id": "uniform__d", "pageRank": 0.10, "community": 0 },

      { "id": "skewed__high1", "pageRank": 0.20, "community": 1, "note": "High weight edges" },
      { "id": "skewed__high2", "pageRank": 0.18, "community": 1 },
      { "id": "skewed__low1", "pageRank": 0.02, "community": 1, "note": "Low weight edges" },
      { "id": "skewed__low2", "pageRank": 0.02, "community": 1 },

      { "id": "bimodal__strong1", "pageRank": 0.12, "community": 2 },
      { "id": "bimodal__strong2", "pageRank": 0.12, "community": 2 },
      { "id": "bimodal__weak1", "pageRank": 0.04, "community": 2 },
      { "id": "bimodal__weak2", "pageRank": 0.04, "community": 2 },

      { "id": "extreme__certain", "pageRank": 0.15, "community": 3, "note": "Weight = 1.0" },
      { "id": "extreme__likely", "pageRank": 0.10, "community": 3, "note": "Weight = 0.99" },
      { "id": "extreme__unlikely", "pageRank": 0.03, "community": 3, "note": "Weight = 0.01" },
      { "id": "extreme__impossible", "pageRank": 0.01, "community": 3, "note": "Weight = 0.0" }
    ],
    "capabilities": [
      {
        "id": "cap__uniform",
        "toolsUsed": ["uniform__a", "uniform__b", "uniform__c", "uniform__d"],
        "successRate": 0.85,
        "note": "All edges have same weight - tests baseline behavior"
      },
      {
        "id": "cap__skewed",
        "toolsUsed": ["skewed__high1", "skewed__high2", "skewed__low1", "skewed__low2"],
        "successRate": 0.70,
        "note": "80/20 distribution - algorithm should prefer high-weight paths"
      },
      {
        "id": "cap__bimodal",
        "toolsUsed": ["bimodal__strong1", "bimodal__strong2", "bimodal__weak1", "bimodal__weak2"],
        "successRate": 0.75,
        "note": "Two distinct weight clusters"
      },
      {
        "id": "cap__extreme",
        "toolsUsed": [
          "extreme__certain",
          "extreme__likely",
          "extreme__unlikely",
          "extreme__impossible"
        ],
        "successRate": 0.50,
        "note": "Edge cases: 0.0, 0.01, 0.99, 1.0 weights"
      }
    ],
    "metaCapabilities": []
  },
  "edges": [
    {
      "source": "uniform__a",
      "target": "uniform__b",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.75,
      "count": 100
    },
    {
      "source": "uniform__b",
      "target": "uniform__c",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.75,
      "count": 100
    },
    {
      "source": "uniform__c",
      "target": "uniform__d",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.75,
      "count": 100
    },
    {
      "source": "uniform__a",
      "target": "uniform__c",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.75,
      "count": 100
    },

    {
      "source": "skewed__high1",
      "target": "skewed__high2",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.95,
      "count": 500,
      "note": "Strong path"
    },
    {
      "source": "skewed__high1",
      "target": "skewed__low1",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.15,
      "count": 20,
      "note": "Weak alternative"
    },
    {
      "source": "skewed__high2",
      "target": "skewed__low2",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.92,
      "count": 450
    },
    {
      "source": "skewed__low1",
      "target": "skewed__low2",
      "type": "sequence",
      "source_type": "inferred",
      "weight": 0.10,
      "count": 5,
      "note": "Weak path"
    },

    {
      "source": "bimodal__strong1",
      "target": "bimodal__strong2",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.90,
      "count": 300,
      "note": "Cluster 1: strong"
    },
    {
      "source": "bimodal__weak1",
      "target": "bimodal__weak2",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.30,
      "count": 50,
      "note": "Cluster 2: weak"
    },
    {
      "source": "bimodal__strong1",
      "target": "bimodal__weak1",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.55,
      "count": 100,
      "note": "Cross-cluster"
    },
    {
      "source": "bimodal__strong2",
      "target": "bimodal__weak2",
      "type": "depends_on",
      "source_type": "observed",
      "weight": 0.60,
      "count": 80
    },

    {
      "source": "extreme__certain",
      "target": "extreme__likely",
      "type": "provides",
      "source_type": "static",
      "weight": 1.0,
      "count": null,
      "note": "Perfect confidence"
    },
    {
      "source": "extreme__likely",
      "target": "extreme__unlikely",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.99,
      "count": 1000,
      "note": "Near certain"
    },
    {
      "source": "extreme__unlikely",
      "target": "extreme__impossible",
      "type": "sequence",
      "source_type": "inferred",
      "weight": 0.01,
      "count": 1,
      "note": "Almost never"
    },
    {
      "source": "extreme__certain",
      "target": "extreme__impossible",
      "type": "depends_on",
      "source_type": "inferred",
      "weight": 0.0,
      "count": 0,
      "note": "Zero weight - should be ignored"
    }
  ],
  "testCases": {
    "uniform_pathfinding": {
      "from": "uniform__a",
      "to": "uniform__d",
      "paths": [
        {
          "path": ["uniform__a", "uniform__b", "uniform__c", "uniform__d"],
          "hops": 3,
          "cumulativeWeight": 0.421875
        },
        {
          "path": ["uniform__a", "uniform__c", "uniform__d"],
          "hops": 2,
          "cumulativeWeight": 0.5625
        }
      ],
      "expected": "shorter path wins with uniform weights"
    },
    "skewed_preference": {
      "from": "skewed__high1",
      "to": "skewed__low2",
      "preferred": ["skewed__high1", "skewed__high2", "skewed__low2"],
      "avoided": ["skewed__high1", "skewed__low1", "skewed__low2"],
      "note": "High-weight path should be preferred despite more hops"
    },
    "bimodal_clustering": {
      "note": "PageRank should distinguish strong vs weak nodes"
    },
    "extreme_handling": {
      "zero_weight": {
        "edge": ["extreme__certain", "extreme__impossible"],
        "expected": "should be excluded from pathfinding"
      },
      "perfect_weight": {
        "edge": ["extreme__certain", "extreme__likely"],
        "expected": "should not cause numeric issues (log(1) = 0)"
      },
      "near_zero": {
        "edge": ["extreme__unlikely", "extreme__impossible"],
        "expected": "high cost but not infinite"
      }
    }
  },
  "algorithmExpectations": {
    "dijkstra": {
      "weightInterpretation": "cost = -log(weight) or 1/weight",
      "zeroWeightHandling": "exclude or treat as infinity",
      "perfectWeightHandling": "cost = 0 (no penalty)"
    },
    "pagerank": {
      "convergence": "uniform should converge fastest",
      "skewedBehavior": "high1 and high2 should have higher scores"
    },
    "localAlpha": {
      "uniformPrior": "should use uniform alpha",
      "skewedPrior": "should learn skewed alpha from observations"
    }
  }
}
