{
  "name": "edge-cases",
  "description": "Edge cases for algorithm robustness testing",
  "nodes": {
    "tools": [
      { "id": "isolated__tool1", "pageRank": 0.0, "community": -1, "note": "No edges at all" },
      { "id": "isolated__tool2", "pageRank": 0.0, "community": -1, "note": "No edges at all" },
      { "id": "hub__central", "pageRank": 0.5, "community": 0, "note": "High connectivity hub" },
      { "id": "hub__spoke1", "pageRank": 0.1, "community": 0 },
      { "id": "hub__spoke2", "pageRank": 0.1, "community": 0 },
      { "id": "hub__spoke3", "pageRank": 0.1, "community": 0 },
      { "id": "hub__spoke4", "pageRank": 0.1, "community": 0 },
      { "id": "chain__start", "pageRank": 0.05, "community": 1, "note": "Long chain start" },
      { "id": "chain__mid1", "pageRank": 0.05, "community": 1 },
      { "id": "chain__mid2", "pageRank": 0.05, "community": 1 },
      { "id": "chain__mid3", "pageRank": 0.05, "community": 1 },
      { "id": "chain__end", "pageRank": 0.05, "community": 1, "note": "Long chain end" },
      {
        "id": "new__cold1",
        "pageRank": 0.01,
        "community": 2,
        "note": "Cold start - 1 observation"
      },
      {
        "id": "new__cold2",
        "pageRank": 0.01,
        "community": 2,
        "note": "Cold start - 2 observations"
      }
    ],
    "capabilities": [
      {
        "id": "cap__empty",
        "toolsUsed": [],
        "successRate": 0.0,
        "note": "Empty capability - edge case"
      },
      {
        "id": "cap__single",
        "toolsUsed": ["hub__central"],
        "successRate": 0.99,
        "note": "Single tool capability"
      },
      {
        "id": "cap__hub",
        "toolsUsed": ["hub__central", "hub__spoke1", "hub__spoke2", "hub__spoke3", "hub__spoke4"],
        "successRate": 0.95
      },
      {
        "id": "cap__chain",
        "toolsUsed": ["chain__start", "chain__mid1", "chain__mid2", "chain__mid3", "chain__end"],
        "successRate": 0.75,
        "staticEdges": [
          { "from": "chain__start", "to": "chain__mid1", "type": "provides" },
          { "from": "chain__mid1", "to": "chain__mid2", "type": "provides" },
          { "from": "chain__mid2", "to": "chain__mid3", "type": "provides" },
          { "from": "chain__mid3", "to": "chain__end", "type": "provides" }
        ]
      },
      {
        "id": "cap__low_success",
        "toolsUsed": ["new__cold1", "new__cold2"],
        "successRate": 0.3,
        "note": "Low success rate - should be penalized"
      }
    ],
    "metaCapabilities": [
      {
        "id": "meta__nested",
        "contains": ["cap__hub", "cap__chain"],
        "description": "Nested meta-capability"
      }
    ]
  },
  "edges": [
    {
      "source": "hub__central",
      "target": "hub__spoke1",
      "type": "depends_on",
      "source_type": "observed",
      "weight": 0.9,
      "count": 50
    },
    {
      "source": "hub__central",
      "target": "hub__spoke2",
      "type": "depends_on",
      "source_type": "observed",
      "weight": 0.9,
      "count": 45
    },
    {
      "source": "hub__central",
      "target": "hub__spoke3",
      "type": "depends_on",
      "source_type": "observed",
      "weight": 0.85,
      "count": 40
    },
    {
      "source": "hub__central",
      "target": "hub__spoke4",
      "type": "depends_on",
      "source_type": "observed",
      "weight": 0.8,
      "count": 35
    },
    {
      "source": "chain__start",
      "target": "chain__mid1",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.95,
      "count": 100
    },
    {
      "source": "chain__mid1",
      "target": "chain__mid2",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.90,
      "count": 95
    },
    {
      "source": "chain__mid2",
      "target": "chain__mid3",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.85,
      "count": 90
    },
    {
      "source": "chain__mid3",
      "target": "chain__end",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.80,
      "count": 85
    },
    {
      "source": "new__cold1",
      "target": "new__cold2",
      "type": "sequence",
      "source_type": "inferred",
      "weight": 0.3,
      "count": 1
    }
  ],
  "expectedResults": {
    "dijkstra": {
      "path_chain__start_to_chain__end": [
        "chain__start",
        "chain__mid1",
        "chain__mid2",
        "chain__mid3",
        "chain__end"
      ],
      "path_isolated_to_hub": null
    },
    "louvain": {
      "isolated_nodes_in_own_community": true
    },
    "drdsp": {
      "hyperpath_chain": {
        "hyperedges": ["cap__chain"],
        "note": "Single hyperedge covers entire chain"
      }
    }
  },
  "testCases": {
    "cold_start": {
      "nodes": ["isolated__tool1", "new__cold1", "new__cold2"],
      "expected_alpha": 1.0,
      "note": "Should use Bayesian prior"
    },
    "hub_and_spoke": {
      "context": ["hub__central"],
      "expected_predictions": ["hub__spoke1", "hub__spoke2", "hub__spoke3", "hub__spoke4"],
      "note": "All spokes should be predicted from hub"
    },
    "long_path": {
      "from": "chain__start",
      "to": "chain__end",
      "expected_hops": 4,
      "note": "Test path through all chain nodes"
    }
  }
}
