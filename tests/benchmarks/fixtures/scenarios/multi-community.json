{
  "name": "multi-community",
  "description": "Complex community structures for Louvain algorithm testing",
  "nodes": {
    "tools": [
      { "id": "auth__login", "pageRank": 0.12, "community": 0 },
      { "id": "auth__logout", "pageRank": 0.08, "community": 0 },
      { "id": "auth__verify", "pageRank": 0.10, "community": 0 },
      { "id": "auth__refresh", "pageRank": 0.07, "community": 0 },

      { "id": "data__query", "pageRank": 0.11, "community": 1 },
      { "id": "data__insert", "pageRank": 0.09, "community": 1 },
      { "id": "data__update", "pageRank": 0.08, "community": 1 },
      { "id": "data__delete", "pageRank": 0.06, "community": 1 },
      { "id": "data__batch", "pageRank": 0.05, "community": 1 },

      { "id": "cache__get", "pageRank": 0.08, "community": 2 },
      { "id": "cache__set", "pageRank": 0.07, "community": 2 },
      { "id": "cache__invalidate", "pageRank": 0.05, "community": 2 },

      {
        "id": "bridge__auth_data",
        "pageRank": 0.15,
        "community": -1,
        "note": "Bridge node between auth and data"
      },
      {
        "id": "bridge__data_cache",
        "pageRank": 0.12,
        "community": -1,
        "note": "Bridge node between data and cache"
      },

      {
        "id": "isolated__orphan1",
        "pageRank": 0.01,
        "community": 3,
        "note": "Weak community connection"
      },
      { "id": "isolated__orphan2", "pageRank": 0.01, "community": 3 }
    ],
    "capabilities": [
      {
        "id": "cap__authentication",
        "toolsUsed": ["auth__login", "auth__logout", "auth__verify", "auth__refresh"],
        "successRate": 0.97,
        "note": "Tight-knit auth community"
      },
      {
        "id": "cap__crud_operations",
        "toolsUsed": ["data__query", "data__insert", "data__update", "data__delete", "data__batch"],
        "successRate": 0.94,
        "note": "Data operations community"
      },
      {
        "id": "cap__caching",
        "toolsUsed": ["cache__get", "cache__set", "cache__invalidate"],
        "successRate": 0.99,
        "note": "Caching community"
      },
      {
        "id": "cap__auth_data_flow",
        "toolsUsed": ["auth__verify", "bridge__auth_data", "data__query"],
        "successRate": 0.92,
        "note": "Cross-community: auth to data"
      },
      {
        "id": "cap__cached_queries",
        "toolsUsed": ["cache__get", "bridge__data_cache", "data__query"],
        "successRate": 0.96,
        "note": "Cross-community: cache to data"
      }
    ],
    "metaCapabilities": [
      {
        "id": "meta__backend",
        "contains": ["cap__authentication", "cap__crud_operations", "cap__caching"],
        "description": "All backend capabilities"
      }
    ]
  },
  "edges": [
    {
      "source": "auth__login",
      "target": "auth__verify",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.95,
      "count": 500
    },
    {
      "source": "auth__verify",
      "target": "auth__refresh",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.60,
      "count": 200
    },
    {
      "source": "auth__login",
      "target": "auth__logout",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.40,
      "count": 180
    },
    {
      "source": "auth__refresh",
      "target": "auth__verify",
      "type": "depends_on",
      "source_type": "static",
      "weight": 1.0,
      "count": null
    },

    {
      "source": "data__query",
      "target": "data__insert",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.30,
      "count": 100
    },
    {
      "source": "data__query",
      "target": "data__update",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.45,
      "count": 150
    },
    {
      "source": "data__query",
      "target": "data__delete",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.20,
      "count": 60
    },
    {
      "source": "data__insert",
      "target": "data__batch",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.70,
      "count": 80
    },
    {
      "source": "data__update",
      "target": "data__batch",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.65,
      "count": 75
    },

    {
      "source": "cache__get",
      "target": "cache__set",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.25,
      "count": 300
    },
    {
      "source": "cache__set",
      "target": "cache__invalidate",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.15,
      "count": 100
    },

    {
      "source": "auth__verify",
      "target": "bridge__auth_data",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.85,
      "count": 400,
      "note": "Cross-community bridge"
    },
    {
      "source": "bridge__auth_data",
      "target": "data__query",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.88,
      "count": 380
    },

    {
      "source": "cache__get",
      "target": "bridge__data_cache",
      "type": "sequence",
      "source_type": "observed",
      "weight": 0.55,
      "count": 200,
      "note": "Cross-community bridge"
    },
    {
      "source": "bridge__data_cache",
      "target": "data__query",
      "type": "provides",
      "source_type": "observed",
      "weight": 0.75,
      "count": 250
    },

    {
      "source": "isolated__orphan1",
      "target": "isolated__orphan2",
      "type": "sequence",
      "source_type": "inferred",
      "weight": 0.20,
      "count": 5
    },

    {
      "source": "meta__backend",
      "target": "cap__authentication",
      "type": "contains",
      "source_type": "static",
      "weight": 1.0,
      "count": null
    },
    {
      "source": "meta__backend",
      "target": "cap__crud_operations",
      "type": "contains",
      "source_type": "static",
      "weight": 1.0,
      "count": null
    },
    {
      "source": "meta__backend",
      "target": "cap__caching",
      "type": "contains",
      "source_type": "static",
      "weight": 1.0,
      "count": null
    }
  ],
  "testCases": {
    "louvain_detection": {
      "expectedCommunities": 4,
      "communities": [
        {
          "id": 0,
          "nodes": ["auth__login", "auth__logout", "auth__verify", "auth__refresh"],
          "name": "auth"
        },
        {
          "id": 1,
          "nodes": ["data__query", "data__insert", "data__update", "data__delete", "data__batch"],
          "name": "data"
        },
        { "id": 2, "nodes": ["cache__get", "cache__set", "cache__invalidate"], "name": "cache" },
        { "id": 3, "nodes": ["isolated__orphan1", "isolated__orphan2"], "name": "isolated" }
      ],
      "bridgeNodes": ["bridge__auth_data", "bridge__data_cache"],
      "note": "Bridge nodes may be assigned to either community they connect"
    },
    "modularity": {
      "minimumModularity": 0.3,
      "note": "Clear community structure should yield high modularity"
    },
    "cross_community_paths": {
      "path1": { "from": "auth__login", "to": "data__query", "expectedHops": 3 },
      "path2": { "from": "cache__get", "to": "data__query", "expectedHops": 2 }
    }
  }
}
